{"ast":null,"code":"var _jsxFileName = \"/home/south/PycharmProjects/untitled/project/react/laptop_ng/client/src/components/login.js\";\nimport React from 'react';\nimport { Button } from 'reactstrap';\nimport { Link } from 'react-router-dom';\nimport google from './static/brands-and-logotypes.png';\nimport facebook from './static/facebook.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nconst useStyles = makeStyles(theme => ({\n  social: {\n    width: '20px',\n    height: '20px'\n  }\n}));\n\nfunction Login() {\n  const history = useHistory();\n  const classes = useStyles();\n  const [email, setEmail] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [userExist, setuserExist] = React.useState(false);\n\n  const onSubmitform = async e => {\n    e.preventDefault();\n    await axios.post('/api/login', {\n      //data\n      email: email,\n      password: password\n    }).then(res => {\n      console.log(res.data);\n\n      if (res.data !== null && res.data !== 'User already exists') {\n        localStorage.setItem('token', res.data.token);\n        localStorage.setItem('name', res.data.name); //redirects to home from here\n\n        setTimeout(() => {\n          history.push('/');\n        }, 1000);\n      } else {\n        setuserExist(true);\n      }\n    }).catch(err => console.log(err));\n  };\n\n  const Emailchange = e => {\n    setEmail(e.target.value);\n  };\n\n  const Passwordchange = e => {\n    setPassword(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"form-container sign-in-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: onSubmitform,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 6\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    style: {\n      color: '#B0DFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }\n  }, \"Sign in\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"social-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.social,\n    src: google,\n    alt: \"google\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(\"a\", {\n    href: \"#\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: classes.social,\n    src: facebook,\n    alt: \"facebook\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#B0DFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }\n  }, \"or use your account\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: Emailchange,\n    value: email,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"password\",\n    placeholder: \"Password\",\n    onChange: Passwordchange,\n    value: password,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Link, {\n    to: \"/reset-password\",\n    style: {\n      color: '#B0DFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }\n  }, \"Forgot your password?\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }\n  }), userExist ? /*#__PURE__*/React.createElement(React.Fragment, null, \" \", /*#__PURE__*/React.createElement(\"span\", {\n    style: {\n      color: '#B0DFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 24\n    }\n  }, \"Invalid Credentials\"), /*#__PURE__*/React.createElement(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }\n  }), \" \") : /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 20\n    }\n  }, \" \"), /*#__PURE__*/React.createElement(Button, {\n    style: {\n      background: '#B0DFE5'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }\n  }, \"Sign In\"))));\n}\n\nexport default Login;","map":{"version":3,"sources":["/home/south/PycharmProjects/untitled/project/react/laptop_ng/client/src/components/login.js"],"names":["React","Button","Link","google","facebook","makeStyles","axios","useHistory","useStyles","theme","social","width","height","Login","history","classes","email","setEmail","useState","password","setPassword","userExist","setuserExist","onSubmitform","e","preventDefault","post","then","res","console","log","data","localStorage","setItem","token","name","setTimeout","push","catch","err","Emailchange","target","value","Passwordchange","color","background"],"mappings":"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","sourcesContent":["import React from 'react'\nimport { Button } from 'reactstrap';\nimport {Link} from 'react-router-dom';\nimport google from './static/brands-and-logotypes.png';\nimport facebook from './static/facebook.png';\nimport { makeStyles } from '@material-ui/core/styles';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nconst useStyles = makeStyles((theme) => ({\n\n\tsocial : {\n\t\t\twidth : '20px',\n\t\t\theight : '20px'\n\t}\n\n})\n);\n\nfunction Login(){\n\tconst history = useHistory();\n\tconst classes = useStyles();\n\tconst [email, setEmail] = React.useState('');\n\tconst [password, setPassword] = React.useState('');\n\tconst [userExist, setuserExist] = React.useState(false);\n\n\tconst onSubmitform = async (e) => {\n\t\te.preventDefault();\n\t\tawait axios.post('/api/login', {\n\t\t\t//data\n\t\t\temail : email,\n\t\t\tpassword : password\n\t\t})\n\t\t.then((res) => {\n\t\t\tconsole.log(res.data)\n\t\t\tif (res.data !== null && res.data !== 'User already exists'){\n\t\t\t\tlocalStorage.setItem('token', res.data.token);\n\t\t\t\tlocalStorage.setItem('name', res.data.name);\n\t\t\t\t//redirects to home from here\n\t\t\t\tsetTimeout( () => {\n\t\t\t\t\thistory.push('/');\n\t\t\t\t}, 1000)\n\t\t\t\t\n\t\t\t}\n\t\t\telse {\n\t\t\t\tsetuserExist(true);\n\t\t\t}\n\n\t\t})\n\t\t.catch((err) => console.log(err));\n\t\t\n\n\t}\n\n\tconst Emailchange = (e) => {\n\t\tsetEmail(e.target.value)\n\t}\n\n\tconst Passwordchange = (e) => {\n\t\tsetPassword(e.target.value)\n\t}\n\treturn(\n\t\t\t<div className=\"container\">\n\t\t\t\t<div className=\"form-container sign-in-container\">\n\t\t\t\t\t<form onSubmit={onSubmitform}>\n\t\t\t\t\t\t<h1 style={{color : '#B0DFE5'}}>Sign in</h1>\n\t\t\t\t\t\t<div className=\"social-container\">\n\t\t\t\t\t\t\t<a href=\"#\" ><img className={classes.social} src={google} alt=\"google\"/></a>\n\t\t\t\t\t\t\t<a href=\"#\" ><img className={classes.social} src={facebook} alt=\"facebook\"/></a>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<span style={{color : '#B0DFE5'}}>or use your account</span>\n\t\t\t\t\t\t<input type=\"email\" placeholder=\"Email\" onChange={Emailchange} value={email}/>\n\t\t\t\t\t\t<input type=\"password\" placeholder=\"Password\" onChange={Passwordchange} value={password}/>\n\t\t\t\t\t\t<Link to=\"/reset-password\" style={{color : '#B0DFE5'}}>Forgot your password?</Link>\n\t\t\t\t\t\t<br/>\n\t\t\t\t\t\t{ userExist ? <> <span style={{color : '#B0DFE5'}}>Invalid Credentials</span>\n\t\t\t\t\t\t<br /> </> : <span> </span> }\n\t\t\t\t\t\t<Button style={{background : '#B0DFE5'}}>Sign In</Button>\n\t\t\t\t\t</form>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t);\n}\n\nexport default Login"]},"metadata":{},"sourceType":"module"}